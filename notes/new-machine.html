<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>new-machine</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="new-machine-notes">New Machine Notes</h1>
<p>Get a new macOS device and make sure it gets up to speed real quick.</p>
<h2 id="brew">brew</h2>
<p>get brew http://brew.sh/</p>
<p><code>brew install git python vim tmux postgresql node bash-completion tree</code></p>
<h3 id="install-brew-autoupdate">install <code>brew-autoupdate</code></h3>
<p>Auto-update <code>brew</code> every 24h so you don’t need to wait for it to update whenever you need to use it.</p>
<p>https://github.com/DomT4/homebrew-autoupdate</p>
<h2 id="keyboard">keyboard</h2>
<h3 id="key-bindings">key bindings</h3>
<p>Download karabiner-elements: https://pqrs.org/osx/karabiner/</p>
<h4 id="map-caps-lock-to-ctrl-esc-and-esc-to-shiftcmd">Map caps lock to ctrl / esc, and esc to shift+cmd</h4>
<p>More detailed discussion here: https://github.com/tekezo/Karabiner-Elements/issues/8</p>
<p>Add the following to <code>~/.config/karabiner/karabiner.json</code> (path created only once Karabiner Elements app is opened):</p>
<pre><code>{
    &quot;profiles&quot;: [
        {
            &quot;complex_modifications&quot;: {
                &quot;rules&quot;: [
                    {
                        &quot;manipulators&quot;: [
                            {
                                &quot;description&quot;: &quot;Change caps_lock to control when used as modifier, escape when used alone&quot;,
                                &quot;from&quot;: {
                                    &quot;key_code&quot;: &quot;caps_lock&quot;,
                                    &quot;modifiers&quot;: {
                                        &quot;optional&quot;: [
                                            &quot;any&quot;
                                        ]
                                    }
                                },
                                &quot;to&quot;: [
                                    {
                                        &quot;key_code&quot;: &quot;left_control&quot;
                                    }
                                ],
                                &quot;to_if_alone&quot;: [
                                    {
                                        &quot;key_code&quot;: &quot;escape&quot;,
                                        &quot;modifiers&quot;: {
                                            &quot;optional&quot;: [
                                                &quot;any&quot;
                                            ]
                                        }
                                    }
                                ],
                                &quot;type&quot;: &quot;basic&quot;
                            }
                        ]
                    },
                    {
                        &quot;manipulators&quot;: [
                            {
                                &quot;description&quot;: &quot;Change esc to shift+cmd&quot;,
                                &quot;from&quot;: {
                                    &quot;key_code&quot;: &quot;escape&quot;,
                                    &quot;modifiers&quot;: {
                                        &quot;optional&quot;: [
                                            &quot;any&quot;
                                        ]
                                    }
                                },
                                &quot;to&quot;: [
                                    {
                                        &quot;key_code&quot;: &quot;left_shift&quot;,
                                        &quot;modifiers&quot;: [
                                            &quot;left_command&quot;
                                        ]
                                    }
                                ],
                                &quot;type&quot;: &quot;basic&quot;
                            }
                        ]
                    }
                ]
            }
        }
    ]
}</code></pre>
<p>For windows-default keyboards, configure the following:</p>
<p><code>right/left_alt/gui</code> swaps in simple modifications, and select device in device list.</p>
<h3 id="key-repeat-rate">key repeat rate</h3>
<pre><code>defaults write -g InitialKeyRepeat -int 10
defaults write -g KeyRepeat -int 1</code></pre>
<p>then restart to have key repeat changes take effect.</p>
<h3 id="disable-silly-accented-characters-dialog-box-on-keypress">disable silly accented characters dialog box on keypress</h3>
<pre><code>defaults write -g ApplePressAndHoldEnabled -bool false</code></pre>
<p>then restart for changes to take effect.</p>
<h3 id="remove-ridiculous-defaults">remove ridiculous defaults</h3>
<p>System Preferences &gt; Keyboard &gt; Text</p>
<ul>
<li>uncheck ‘Capitalize words automatically’</li>
<li>uncheck ‘Add period with double-space’</li>
<li>uncheck ‘Use smart quotes and dashes’</li>
<li>remove ‘omw’ = ‘On my way!’ replacement</li>
</ul>
<h2 id="password">1password</h2>
<p>Download 1password 6.x.</p>
<p>They will try to get you to download 1password 7, which requires an account and a monthly membership. If you’ve already paid for the app, that’s obscene.</p>
<p>Sync with iCloud vault via the app.</p>
<p>Install the 1password chrome extension (not 1passwordX, which only works with the new system).</p>
<h2 id="vim">vim</h2>
<pre><code>git clone git@github.com:VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim
vim
:PluginInstall</code></pre>
<h2 id="ssh-keys">ssh keys</h2>
<p>https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/</p>
<h2 id="git">git</h2>
<pre><code>git config --global user.name &quot;Joe Schmo&quot;
git config --global user.email &quot;joe.schmo@gmail.com&quot;</code></pre>
<h2 id="postgres">postgres</h2>
<pre><code>brew services start postgresql
createdb ryan
psql -U ryan</code></pre>
<p>Also be sure to edit the file at <code>/usr/local/var/postgres/postgresql.conf</code> to update any timezone settings to <code>UTC</code>.</p>
<h2 id="tmux">tmux</h2>
<h3 id="system-clipboard">system clipboard</h3>
<p>i have the following line in my <code>.tmux.conf</code> file:</p>
<pre><code># use system clipboard
set-option -g default-command &quot;reattach-to-user-namespace -l bash&quot;</code></pre>
<p>and so i need to do the following to get <code>tmux</code> working out of the box on a mac:</p>
<pre><code>brew install reattach-to-user-namespace</code></pre>
<h2 id="terminal">terminal</h2>
<p><a href="https://github.com/lysyi3m/osx-terminal-themes">osx-terminal-themes</a> - Symfonic theme is neat.</p>
<h2 id="fonts">fonts</h2>
<p><a href="https://fonts.google.com/specimen/Droid+Sans+Mono?selection.family=Droid+Sans+Mono">droid sans mono</a></p>
<p>download, unzip, then:</p>
<pre><code>open DroidSansMono.ttf</code></pre>
<p>and select ‘install font’.</p>
<h2 id="aws">aws</h2>
<pre><code>pip install awscli</code></pre>
<p>Ensure the following files are populated (assumes <code>rt</code> is default profile):</p>
<pre><code># ~/.aws/credentials
[rt]
aws_access_key_id = xxx
aws_secret_access_key = xxx</code></pre>
<pre><code># ~/.aws/config
[profile rt]
region = us-east-1
output = json</code></pre>
<p>And you set the appropriate environment variable:</p>
<pre><code>export AWS_PROFILE=&quot;rt&quot;</code></pre>
<h2 id="docker">docker</h2>
<p>get docker for mac. it’s great. install takes 2 seconds and you’re ready to rock.</p>
<p>https://download.docker.com/mac/stable/Docker.dmg</p>
<p>Or whatever the latest download links are provided at this thread: https://github.com/docker/docker.github.io/issues/6910</p>
<h3 id="ctrl-p-in-docker">Ctrl-P in docker</h3>
<p>To ensure Ctrl-P works within containers, add the following to <code>~/.docker/config.json</code>:</p>
<pre><code>{
  ...
  &quot;detachKeys&quot;: &quot;ctrl-e,e&quot;,
  ...
}</code></pre>
<h2 id="ipython">ipython</h2>
<pre><code>pip install ipython</code></pre>
<h3 id="enable-autoreload">enable autoreload</h3>
<p>Autoreload ensures you can work on python module logic and have the changes show up instantly in <code>ipython</code>.</p>
<p>Create a file at <code>~/.ipython/profile_default/ipython_config.py</code> with the following lines:</p>
<pre><code>c.InteractiveShellApp.extensions = [&#39;autoreload&#39;]
c.InteractiveShellApp.exec_lines = [&#39;%autoreload 2&#39;]</code></pre>
<h2 id="chrome">chrome</h2>
<p>Extensions:</p>
<ul>
<li>uBlock</li>
<li>Merge Windows</li>
<li>Open in new tab</li>
</ul>
<p>Disable swipe-to-go-back (requires chrome restart after):</p>
<pre><code>defaults write com.google.Chrome AppleEnableSwipeNavigateWithScrolls -bool FALSE</code></pre>
<h2 id="messages">messages</h2>
<p>Edit &gt; Spelling and Grammar &gt; Uncheck ‘Correct Spelling Automatically’ (phew)</p>
<h2 id="etc">etc</h2>
<p>Python code formatter:</p>
<pre><code>pip3 install black</code></pre>
<p>Jira to markdown converter:</p>
<pre><code>npm install -g j2m</code></pre>
<p>Simpler <code>man</code> pages:</p>
<pre><code>npm install -g tldr</code></pre>
<h2 id="case-insensitive-bash-autocomplete">Case-insensitive bash autocomplete</h2>
<p>Add the following to <code>~/.inputrc</code>:</p>
<pre><code>set completion-ignore-case on</code></pre>
<p>Then hit <code>^X^R</code> to reload it</p>
</body>
</html>
